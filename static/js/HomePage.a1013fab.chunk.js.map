{"version":3,"file":"static/js/HomePage.a1013fab.chunk.js","mappings":"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","sources":["api/moviesAPI.js","webpack://movies-finder/./src/components/Button/Button.module.scss?f17a","components/Button/Button.jsx","webpack://movies-finder/./src/components/MoviesList/MoviesList.module.scss?709c","components/MoviesList/MoviesList.jsx","webpack://movies-finder/./src/views/HomePage/HomePage.module.scss?4367","views/HomePage/HomePage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst moviesAPI = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nconst API_KEY = '9eaa0de4edff59e756e1f2cf3f96cfd3';\n\nexport const fetchTrending = (page = 1) => {\n  return moviesAPI\n    .get(`trending/all/week?api_key=${API_KEY}&page=${page}`)\n    .then(resp => resp.data);\n};\n\nexport const fetchMovieDetails = movieID => {\n  return moviesAPI\n    .get(`/movie/${movieID}?api_key=${API_KEY}`)\n    .then(resp => resp.data);\n};\n\nexport const fetchMovieCast = movieID => {\n  return moviesAPI\n    .get(`/movie/${movieID}/credits?api_key=${API_KEY}`)\n    .then(resp => resp.data);\n};\n\nexport const fetchMovieReviews = movieID => {\n  return moviesAPI\n    .get(`/movie/${movieID}/reviews?api_key=${API_KEY}`)\n    .then(resp => resp.data);\n};\n\nexport const fetchMovieBySearchQuery = (query, page = 1) => {\n  return moviesAPI\n    .get(`/search/movie?api_key=${API_KEY}&query=${query}&page=${page}`)\n    .then(resp => resp.data);\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__JBBzO\"};","import s from './Button.module.scss';\n\nconst Button = ({ action, label }) => {\n  return (\n    <button onClick={action} className={s.button} type=\"button\">\n      {label}\n    </button>\n  );\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesList\":\"MoviesList_moviesList__uT7h1\",\"moviesItem\":\"MoviesList_moviesItem__weBRa\",\"moviesImage\":\"MoviesList_moviesImage__WYKNk\",\"movieTitle\":\"MoviesList_movieTitle__JTMke\"};","import { Link, withRouter } from 'react-router-dom';\nimport routes from 'routes';\nimport s from './MoviesList.module.scss';\n\nconst MoviesList = ({ movies, location }) => {\n  return (\n    <ul className={s.moviesList}>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id} className={s.moviesItem}>\n            <Link\n              to={{\n                pathname: routes.movies + movie.id,\n                state: {\n                  from: location,\n                },\n              }}\n              className={s.moviesLink}\n            >\n              <div className={s.moviesImage}>\n                <img\n                  src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n                  alt=\"\"\n                />\n              </div>\n              <p className={s.movieTitle}>{movie.title}</p>\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default withRouter(MoviesList);\n","// extracted by mini-css-extract-plugin\nexport default {\"homePage\":\"HomePage_homePage__mYikP\",\"homePage__title\":\"HomePage_homePage__title__WPcFt\"};","import React, { Component } from 'react';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { fetchTrending } from 'api/moviesAPI';\nimport s from './HomePage.module.scss';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Button from 'components/Button/Button';\nimport Loader from 'components/Loader/Loader';\n\nclass HomePage extends Component {\n  state = {\n    movies: [],\n    page: 1,\n    isLoading: false,\n  };\n\n  setMovies = () => {\n    this.setState({ isLoading: true });\n\n    fetchTrending(this.state.page)\n      .then(({ results }) => {\n        let corectMovies = [];\n\n        if (results.length > 0) {\n          results.forEach(movie => {\n            if (movie.title && movie.poster_path) corectMovies.push(movie);\n          });\n        } else {\n          Notify.failure(`There are no more tranding movies`);\n        }\n\n        this.setState(prevState => ({\n          movies: [...prevState.movies, ...corectMovies],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(console.log)\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  componentDidMount() {\n    this.setMovies();\n  }\n\n  render() {\n    const { movies, isLoading } = this.state;\n    return (\n      <div className={s.homePage}>\n        <div className=\"container\">\n          <h1 className={s.homePage__title}>Top Rating Films</h1>\n          {movies.length > 0 && <MoviesList movies={movies} />}\n          {isLoading && <Loader />}\n          {movies.length > 0 && !isLoading && (\n            <Button action={this.setMovies} label=\"LOAD MORE\" />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HomePage;\n"],"names":["moviesAPI","axios","baseURL","API_KEY","fetchTrending","page","get","then","resp","data","fetchMovieDetails","movieID","fetchMovieCast","fetchMovieReviews","fetchMovieBySearchQuery","query","action","label","onClick","className","s","type","withRouter","movies","location","map","movie","to","pathname","routes","id","state","from","src","poster_path","alt","title","HomePage","isLoading","setMovies","setState","results","corectMovies","length","forEach","push","Notify","prevState","catch","console","log","finally","this","MoviesList","Loader","Button","Component"],"sourceRoot":""}